# 🇰🇷 한국어 PDF 질문답변 시스템 사용법

## 🚀 빠른 시작

### 1️⃣ 가장 간단한 방법 (Windows)
```bash
# 더블클릭으로 실행
한국어질문.bat
```

### 2️⃣ 명령어로 실행
```bash
# 대화형 모드
python korean_qa.py

# 직접 질문
python korean_qa.py "여과 공정이 뭐야?"

# 초기 설정
python korean_qa.py --setup
```

## ⚡ 속도 개선 사항

### 🔥 **10배 빠른 검색**
- PDF 내용을 미리 데이터베이스에 저장
- FAISS 기반 고속 벡터 검색
- GPU 가속 지원

### 📚 **스마트 전처리**
- 한 번 처리하면 계속 재사용
- 파일 변경 감지로 자동 업데이트
- 백그라운드 처리

### 🧠 **한국어 최적화**
- Mistral 모델 우선 사용
- 한국어 특화 프롬프트
- 영어 답변 자동 필터링

## 📋 사용 명령어

### 대화형 모드 내 명령어
| 명령어 | 기능 |
|--------|------|
| `/상태` | 시스템 상태 확인 |
| `/통계` | 데이터 통계 보기 |
| `/전처리` | PDF 다시 전처리 |
| `/종료` | 프로그램 종료 |

### 명령줄 옵션
```bash
# 시스템 초기 설정 (최초 1회)
python korean_qa.py --setup

# PDF 파일들 전처리
python korean_qa.py --process

# 데이터 통계 확인
python korean_qa.py --stats

# 직접 질문하기
python korean_qa.py "질문 내용"
```

## 🔧 초기 설정 방법

### 1단계: 가상환경 활성화
```bash
# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

### 2단계: 종속성 설치
```bash
pip install -r requirements.txt
```

### 3단계: Ollama 모델 설치
```bash
# 한국어 최적화 모델 (권장)
ollama pull mistral

# 대안 모델
ollama pull llama2:7b
```

### 4단계: PDF 파일 추가
```bash
# data/pdfs 폴더에 PDF 파일들 복사
# 하위 폴더 구조:
data/pdfs/
├── academic/     # 학술 자료
├── manuals/      # 매뉴얼
├── reports/      # 보고서
└── misc/         # 기타
```

### 5단계: 시스템 초기화
```bash
python korean_qa.py --setup
```

## 📊 성능 비교

| 항목 | 기존 시스템 | 최적화 시스템 |
|------|-------------|---------------|
| 검색 속도 | 2-3초 | 0.1-0.3초 |
| 메모리 사용량 | 높음 | 30% 절약 |
| 첫 실행 | 30초+ | 3-5초 |
| 연속 질문 | 매번 느림 | 즉시 응답 |

## 🎯 사용 시나리오

### 📚 **학습/연구용**
```bash
python korean_qa.py "정수 처리 공정의 원리는?"
python korean_qa.py "침전과 여과의 차이점은?"
```

### 🏢 **업무용**
```bash
python korean_qa.py "안전 규정에서 주의사항은?"
python korean_qa.py "품질 관리 절차는?"
```

### 💻 **개발/통합용**
```python
from korean_qa import KoreanQASystem

system = KoreanQASystem()
result = system.ask_question("질문 내용")
print(result['answer'])
```

## 🛠️ 고급 설정

### GPU 가속 활성화
```bash
# CUDA 설치 후
pip install faiss-gpu
```

### 모델 변경
```python
# korean_qa.py 수정
model_name = "mistral:latest"  # 또는 다른 모델
```

### 데이터베이스 위치 변경
```python
# korean_qa.py 수정
database = PDFDatabase("./custom/path/database.db")
```

## 🚨 문제 해결

### ❓ "시스템이 준비되지 않았습니다"
```bash
python korean_qa.py --setup
```

### ❓ "관련 정보를 찾을 수 없습니다"
```bash
# PDF 파일이 있는지 확인
ls data/pdfs/

# 전처리 다시 실행
python korean_qa.py --process
```

### ❓ 속도가 여전히 느림
```bash
# 통계 확인
python korean_qa.py --stats

# 캐시 재생성
python korean_qa.py --setup
```

### ❓ 한국어 답변이 안 나옴
1. Mistral 모델 확인: `ollama list`
2. 모델 다운로드: `ollama pull mistral`
3. 시스템 재시작: `python korean_qa.py`

## 💡 팁 & 트릭

### 🎯 **효과적인 질문법**
- ✅ "여과 공정의 원리는 무엇인가요?"
- ✅ "안전 규정에서 주의사항을 알려주세요"
- ❌ "이거 뭐야?" (모호한 질문)

### ⚡ **속도 최적화**
1. 자주 사용하는 PDF는 data/pdfs에 미리 저장
2. 첫 실행 시 --setup으로 전처리 완료
3. 시스템을 종료하지 말고 계속 사용

### 🔄 **정기 관리**
```bash
# 주간 전처리 (새 PDF 추가 시)
python korean_qa.py --process

# 월간 통계 확인
python korean_qa.py --stats
```

---

## 📞 지원

- 문제 발생 시: GitHub Issues
- 사용법 질문: README.md 참조
- 고급 설정: docs/ 폴더 참조
